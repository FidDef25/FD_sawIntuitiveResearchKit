{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "dvrk-system.schema.json",
    "title": "dVRK system",
    "type": "object",
    "description": "Configuration file format for the dVRK system.  See the [dVRK wiki](https://dvrk.readthedocs.io).\n\n - This format is used by the application `sawIntuitiveResearchKitSystem` and the ROS application `dvrk_robot dvrk_system`\n - For details of implementation, see code under `sawIntuitiveResearchKit/core/components/code/system.cpp`\n - [Schema file](dvrk-system.schema.json)",
    "additionalProperties": false,

    "properties": {

        "IOs": {
            "type": "array",
            "description": "List of IO components.  Each IO (input/output) component corresponds to a physical connection to the dVRK controllers, usually over FireWire or Ethernet (UDP).",
            "items": {
                "type": "object",
                "description": "Configuration for a single IO component",
                "$ref": "dvrk-IO.schema.json"
            },
            "examples":
            [
                {
                    "name": "IO_1",
                    "port": "fw"
                }
            ]
        },

        "arms": {
            "type": "array",
            "description": "List of arms for the system",
            "items": {
                "type": "object",
                "description": "Configuration for a single arm",
		"$ref": "dvrk-system-arm.schema.json"
            }
        },

        "consoles": {
            "type": "array",
            "description": "List of PSM tele-operation components.  Each PSM tele-operation component requires a MTM and a PSM",
            "items": {
                "type": "object",
                "description": "Configuration for a single PSM tele-operation component",
                "$ref": "dvrk-console.schema.json"
            }
        },

        "consoles": {
            "type": "array",
            "description": "List of PSM tele-operation components.  Each PSM tele-operation component requires a MTM and a PSM",
            "items": {
                "type": "object",
                "description": "Configuration for a single PSM tele-operation component",
                "$ref": "dvrk-console.schema.json"
            }
        },

	"settings": {
            "description": "General settings for the dVRK system configuration. See the [dVRK wiki](https://dvrk.readthedocs.io).",
            "type": "object",
            "$ref": "dvrk-system-settings.schema.json"
        },

        "ISI_focus_controller": {
            "description": "Configuration required to use the da Vinci endoscope focus controller. This requires a custom cable and will only work with da Vinci focus controller.  The endoscope focus component was introduced in version 1.6.  See the [dVRK wiki](https://dvrk.readthedocs.io).",
            "type": "object",
            "additionalProperties": false,
            "type": "object",
            "$ref": "dvrk-IO-configuration.schema.json",
            "examples": [
                {
                    "ISI_focus_controller": {
                        "IO": "IO_1",
                        "IO_file": "io/sawRobotIO1394-MTML-dv-endoscope-focus.xml"
                    }
                }
            ]
        },

        "component_manager": {
            "description": "See *cisstMultiTask* [component manager](cisst-component-manager.html)",
            "$ref": "cisst-component-manager.schema.json"
        },


        "chatty": {
            "type": "boolean",
            "description": "Make the console say something useless when it starts.  It's mostly a way to test the text-to-speech feature.",
            "default": false
        }

    }
}
